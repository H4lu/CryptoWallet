osx_image: xcode10.2

dist: trusty
sudo: required
before_install:
  - if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get install -y libpcsclite1 libpcsclite-dev pcscd; fi


language: node_js
node_js: '8'

addons:
    chrome: stable
    apt: 
      update: true
os:
 - windows
 - linux
 - osx


script:
  - echo "Deploy windows build"
  - if [[ "$TRAVIS_BRANCH" == "master" ]] && [[ "$TRAVIS_OS_NAME" == "windows" ]]; then npm release:win; fi
  - echo "Deploy linux build"
  - if [[ "$TRAVIS_BRANCH" == "master" ]] && [[ "$TRAVIS_OS_NAME" == "linux" ]]; then npm release:linux; fi
  - echo "Deploy osx build"
  - if [[ "$TRAVIS_BRANCH" == "master" ]] && [[ "$TRAVIS_OS_NAME" == "osx" ]]; then npm release:osx; fi



